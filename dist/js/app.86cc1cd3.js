(function(){"use strict";var e={9372:function(e,t,a){var n=a(5471),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("h1",{staticClass:"ui header"},[e._v(" GeoNames Vue")]),e._m(0),t("h3",{staticClass:"ui header"},[e._v("<GeoNames-State>")]),t("state-table"),t("h3",{staticClass:"ui header"},[e._v("<GeoNames-City>")]),t("city-table")],1)},o=[function(){var e=this,t=e._self._c;return t("p",[e._v(" Exemplo de exibição dos dados da "),t("a",{attrs:{href:"https://github.com/mariojrrc/geonames-api-node",target:"_blank"}},[e._v("GeoNames API Node")])])}],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("vuetable",{ref:"vuetable",attrs:{"http-fetch":e.getData,fields:e.fields,"sort-order":e.sortOrder,"query-params":e.makeQueryParams,"data-path":"data","per-page":e.perPage,transform:e.transformData,"pagination-path":"pagination"},on:{"vuetable:pagination-data":e.onPaginationData,"vuetable:loading":e.onLoading}}),t("div",{staticClass:"pagination ui basic segment grid"},[t("vuetable-pagination-info",{ref:"paginationInfo",attrs:{"info-template":"Exibindo {from} a {to} do total de {total} itens","no-data-template":"Sem dados para exibir"}}),t("vuetable-pagination",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})],1)],1)},s=[],d=(a(4114),a(291)),l=a(810),u=a(1824),c={name:"StateTable",components:{Vuetable:d.A,VuetablePagination:l.A,VuetablePaginationInfo:u.A},data(){return{fields:[{name:"name",title:'<i class="grey address card outline icon"></i>Nome',width:"20%",sortField:"name"},{name:"shortName",title:'<i class="grey address book outline icon"></i>Abreviação',width:"20%"},{name:"createdAt",title:'<i class="grey clock outline icon"></i>Data de Criação',width:"20%"},{name:"updatedAt",title:'<i class="grey clock outline icon"></i>Data de Atualização',width:"20%"}],sortOrder:[{field:"Name",direction:"asc"}],perPage:10,apiUrl:"https://geonames-api-node.herokuapp.com",basicAuth:"Basic NDAxNTU3Y2YtY2Q1OS00MTBlLTlkNTUtOGJhNzk2OTU1ZjVjOmI3ZmZlYjVmZjBhMTQ0NTNmZTcyNWY4Mjc3NTMyODk3ZTQ0MzdhMTQ="}},methods:{getData(e,t){return this.$http.defaults.baseURL=this.apiUrl+"/v1/state",this.$http.defaults.headers.common["Authorization"]=this.basicAuth,this.$http.get(e,t)},makeQueryParams(e,t,a){return{sort:e[0].field,order:"asc"===e[0].direction?1:-1,page:t,pageSize:a,_count:1}},transformData(e){const t={};t.pagination={total:e._total_items,per_page:e._embedded.states.length,current_page:e._page,last_page:e._page_count,next_page_url:((e._links||{}).next||{}).href||null,prev_page_url:((e._links||{}).last||{}).href||null,from:1===e._page?1:(e._page-1)*this.perPage,to:1===e._page?e._embedded.states.length:(e._page-1)*this.perPage+e._embedded.states.length},t.data=[];for(var a=0;a<e._embedded.states.length;a++)t.data.push({id:e._embedded.states[a].id,name:e._embedded.states[a].name,shortName:e._embedded.states[a].shortName,createdAt:this.$moment(e._embedded.states[a].createdAt).format("HH:mm:ss DD/MM/YYYY"),updatedAt:this.$moment(e._embedded.states[a].updatedAt).format("HH:mm:ss DD/MM/YYYY")});return t},onPaginationData(e){this.$refs.pagination.setPaginationData(e),this.$refs.paginationInfo.setPaginationData(e)},onChangePage(e){this.$refs.vuetable.changePage(e)},onLoading(){console.log("loading... show your spinner here")}}},p=c,m=a(1656),g=(0,m.A)(p,r,s,!1,null,null,null),h=g.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("vuetable",{ref:"vuetable",attrs:{"http-fetch":e.getData,fields:e.fields,"sort-order":e.sortOrder,"query-params":e.makeQueryParams,"data-path":"data","per-page":e.perPage,transform:e.transformData,"pagination-path":"pagination"},on:{"vuetable:pagination-data":e.onPaginationData}}),t("div",{staticClass:"pagination ui basic segment grid"},[t("vuetable-pagination-info",{ref:"paginationInfo",attrs:{"info-template":"Exibindo {from} a {to} do total de {total} itens","no-data-template":"Sem dados para exibir"}}),t("vuetable-pagination",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})],1)],1)},b=[],_=(a(8111),a(1701),{name:"CityTable",components:{Vuetable:d.A,VuetablePagination:l.A,VuetablePaginationInfo:u.A},data(){return{fields:[{name:"name",title:'<i class="grey address card outline icon"></i>Nome',width:"20%",sortField:"name"},{name:"stateName",title:'<i class="grey address book outline icon"></i>Estado',width:"20%"},{name:"createdAt",title:'<i class="grey clock outline icon"></i>Data de Criação',width:"20%"},{name:"updatedAt",title:'<i class="grey clock outline icon"></i>Data de Atualização',width:"20%"}],sortOrder:[{field:"Name",direction:"asc"}],perPage:10,apiUrl:"https://geonames-api-node.herokuapp.com",basicAuth:"Basic NDAxNTU3Y2YtY2Q1OS00MTBlLTlkNTUtOGJhNzk2OTU1ZjVjOmI3ZmZlYjVmZjBhMTQ0NTNmZTcyNWY4Mjc3NTMyODk3ZTQ0MzdhMTQ="}},methods:{getData(e,t){return this.$http.defaults.baseURL=this.apiUrl+"/v1/city",this.$http.defaults.headers.common["Authorization"]=this.basicAuth,this.$http.get(e,t)},makeQueryParams(e,t,a){return{sort:e[0].field,order:"asc"===e[0].direction?1:-1,page:t,pageSize:a,_count:1}},transformData(e){const t={};t.pagination={total:e._total_items,per_page:e._embedded.cities.length,current_page:e._page,last_page:e._page_count,next_page_url:((e._links||{}).next||{}).href||null,prev_page_url:((e._links||{}).last||{}).href||null,from:1===e._page?1:(e._page-1)*this.perPage,to:1===e._page?e._embedded.cities.length:(e._page-1)*this.perPage+e._embedded.cities.length},t.data=[];for(var a=0;a<e._embedded.cities.length;a++)t.data.push({id:e._embedded.cities[a].id,name:e._embedded.cities[a].name,stateId:e._embedded.cities[a].stateId,stateName:e._embedded.cities[a].stateName||"",createdAt:this.$moment(e._embedded.cities[a].createdAt).format("HH:mm:ss DD/MM/YYYY"),updatedAt:this.$moment(e._embedded.cities[a].updatedAt).format("HH:mm:ss DD/MM/YYYY")});return t},onPaginationData(e){this.$refs.pagination.setPaginationData(e),this.$refs.paginationInfo.setPaginationData(e);const t=this.$refs.vuetable.$data.tableData,a=this.$refs.vuetable,n=t.map(e=>e.stateId);n.length>0&&(this.$http.defaults.baseURL=this.apiUrl,this.$http.defaults.headers.common["Authorization"]=this.basicAuth,this.$http.post("/v1/state/bulk",{ids:n}).then(function(e){const n=[],i=[];e.data.map(e=>i[e._id]=e);for(let a=0;a<t.length;a++)n.push(Object.assign(t[a],{stateName:(i[t[a].stateId]||{}).name||""}));a.$data.tableData=n}).catch(function(e){console.log(e)}))},onChangePage(e){this.$refs.vuetable.changePage(e)}}}),v=_,y=(0,m.A)(v,f,b,!1,null,null,null),A=y.exports,P={name:"App",components:{StateTable:h,CityTable:A}},D=P,N=(0,m.A)(D,i,o,!1,null,null,null),T=N.exports,k=a(4335);n.Ay.use(a(5624)),n.Ay.prototype.$http=k.A,n.Ay.config.productionTip=!1,new n.Ay({render:e=>e(T)}).$mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,o){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||r>=o)&&Object.keys(a.O).every(function(e){return a.O[e](n[d])})?n.splice(d--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,r=n[0],s=n[1],d=n[2],l=0;if(r.some(function(t){return 0!==e[t]})){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(d)var u=d(a)}for(t&&t(n);l<r.length;l++)o=r[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkgeonames_vue"]=self["webpackChunkgeonames_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(9372)});n=a.O(n)})();
//# sourceMappingURL=app.86cc1cd3.js.map